{"EDITOR_STATE":{"allProjectFiles":{"41859125-9298-4036-8163-7307ce3b43d7":{"id":"41859125-9298-4036-8163-7307ce3b43d7","parent":null,"name":"SQSTest","type":"DIRECTORY","isDirectory":true,"children":["6f7b3f50-3c6f-434f-b224-ceb8dbcd6aae"],"isRemovable":false,"filePath":"SQSTest"},"6f7b3f50-3c6f-434f-b224-ceb8dbcd6aae":{"id":"6f7b3f50-3c6f-434f-b224-ceb8dbcd6aae","parent":"41859125-9298-4036-8163-7307ce3b43d7","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"SQSTest/lambda.js","code":"let AWS = require('aws-sdk');\nlet SL_AWS = require('slappforge-sdk-aws');\nconst sqs = new SL_AWS.SQS(AWS);\n\nexports.handler = function (event, context, callback) {\n\n    sqs.receiveMessage({\n        QueueUrl: 'https://sqs.us-east-1.amazonaws.com/318300609668/MyNewQueue',\n        AttributeNames: ['All'],\n        MaxNumberOfMessages: '1',\n        VisibilityTimeout: '30',\n        WaitTimeSeconds: '0'\n    }).promise()\n        .then(receivedMsgData => {\n            if (!!(receivedMsgData) && !!(receivedMsgData.Messages)) {\n                let receivedMessages = receivedMsgData.Messages;\n                receivedMessages.forEach(message => {\n                    // your logic to access each message through out the loop. Each message is available under variable message \n                    // within this block\n                });\n            } else {\n                // No messages to process\n            }\n        })\n        .catch(err => {\n            // error handling goes here\n        });\n\n    callback(null, 'Successfully executed');\n}","triggers":[],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"}}},"deletedFiles":[],"rootNode":"41859125-9298-4036-8163-7307ce3b43d7","openFiles":["6f7b3f50-3c6f-434f-b224-ceb8dbcd6aae"],"currentFileId":"6f7b3f50-3c6f-434f-b224-ceb8dbcd6aae","resources":{"sqsusEast1MyNewQueue":{"name":"sqsusEast1MyNewQueue","type":"SQS","config":{"mode":0,"existing":false,"name":"MyNewQueue","url":"https://sqs.us-east-1.amazonaws.com/318300609668/MyNewQueue","selectedRegion":"us-east-1","deliveryDelay":0,"deliveryDelayUnit":"seconds","useRedrivePolicy":false,"useSSE":false,"kmsCustomerMasterKey":"default","accountId":"318300609668","dataKeyReusePeriod":5,"queueType":"standardQueue","defaultVisibilityTimeout":30,"defaultVisibilityTimeoutUnit":"seconds","messageRetentionPeriod":4,"messageRetentionPeriodUnit":"days","maximumMessageSize":256,"receiveMessageWaitTime":0,"deadLetterQueueName":"","contentBasedDeduplication":false,"operation":0},"globallyEditable":true}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true},"slappforge-sdk-aws":{"name":"slappforge-sdk-aws","version":"0.0.5","notRemovable":false}}},"lambdaId":"6f7b3f50-3c6f-434f-b224-ceb8dbcd6aae"},"PROJECT_META":{"projectName":"SQSTest","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1","lastSave":1536573294921},"VCS_STATE":{"provider":"GitHub","repo":{"name":"SQSTest","url":"https://github.com/sigmaidetest/SQSTest"}}}